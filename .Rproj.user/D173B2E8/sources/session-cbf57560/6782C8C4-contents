library(tidyverse)
library(ggplot2)
library(readxl)
library(dplyr)

# Aciklamalarin yapildigi satiri sutun ismi yapma islemi
data <- read_excel("neden-egitim-goc.xls")
aciklama_satiri <- data[3, ]
colnames(data) <- as.character(aciklama_satiri)

# Toplam göç sayısını ifade eden tablo
immigration_data <- data %>% filter(data$`Göç etme nedeni-Reason for migration` == "Toplam-Total")
sorted_immigration_data <- immigration_data[order(immigration_data$`Yıl
Year`), ]

# Plotting
ggplot(immigration_data, aes(x = "`Yıl Year`", y = "`Toplam Total`")) +
  geom_bar(stat = "identity", fill = "blue") +
  labs(
    title = "Total Immigration Over Years",
    x = "Year",
    y = "Total Immigration"
  ) +
  theme_minimal() +
  scale_x_discrete(labels = immigration_data$"Yıl Year"[order(immigration_data$"Yıl Year")])